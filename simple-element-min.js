const t=(t,...e)=>t.map(((t,s)=>`${t}${void 0!==e[s]?e[s]:""}`)).join("");export const html=t;export const css=t;export class SimpleElement extends HTMLElement{styles="";markup="";properties={};elements={};selectors={};mutationOptions={attributes:!0,childList:!0,subtree:!0};constructor(){super()}setProperties(){Object.entries(this.properties).forEach((([t,e])=>{let s={get(){return this.getAttribute(t)},set(e){e?this.setAttribute(t,e):this.removeAttribute(t)}};e.type===Boolean&&(s={get(){return this.hasAttribute(t)},set(e){e?this.setAttribute(t,""):this.removeAttribute(t)}}),e.type===Number&&(s={get(){return parseFloat(this.getAttribute(t))},set(e){e||0===e?this.setAttribute(t,e):this.removeAttribute(t)}}),e.type===Object&&(s={get(){return JSON.parse(this.getAttribute(t))},set(e){e?"string"==typeof e?this.setAttribute(t,e):this.setAttribute(t,JSON.stringify(e)):this.removeAttribute(t)}}),Object.defineProperty(this,t,s)}))}setElements(t){Object.entries(this.selectors).forEach((([e,s])=>{const r=t.querySelector(s.selector);this.elements[e]=r,s.event&&r.addEventListener(s.event,s.handler)}))}render(t){this.setProperties();const e=((t,e)=>{const s=document.createElement("template");s.innerHTML=t;const r=e.attachShadow({mode:"open"});return r.appendChild(s.content.cloneNode(!0),!0),r})(`<style>${this.styles}</style>${this.markup}`,this);return t?.observe&&(this.observer=this.watchChildren(),this.updateChildren()),this.setElements(e),e}watchChildren(){let t=new MutationObserver((t=>{t.forEach((t=>{this.updateChildren(t)}))}));return t.observe(this,this.mutationOptions),t}updateChildren(t){this.observer.disconnect(),this.handleMutation(t),this.observer.observe(this,this.mutationOptions)}handleMutation(t){}}